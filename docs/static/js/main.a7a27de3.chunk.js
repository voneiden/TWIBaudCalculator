(this["webpackJsonptwi-baud-calculator"]=this["webpackJsonptwi-baud-calculator"]||[]).push([[0],{10:function(e,a,t){e.exports=t(19)},15:function(e,a,t){},16:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),o=(t(15),t(9)),i=(t(16),t(3)),u=t(5),s=[{id:0,name:"Standard Mode",maxKHzBus:100,maxNanoRise:1e3,maxPF:400,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(){return NaN}},{id:1,name:"Fast Mode",maxKHzBus:400,maxNanoRise:300,maxPF:400,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(e){return.2*e}},{id:2,name:"Fast Mode Plus",maxKHzBus:1e3,maxNanoRise:120,maxPF:550,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(e){return.2*e}}],m=i.a.model({twiMode:i.a.optional(i.a.number,0),vcc:i.a.optional(i.a.string,"5.0"),pF:i.a.optional(i.a.string,"40"),kOhm:i.a.optional(i.a.string,"4.7"),MHzMcu:i.a.optional(i.a.string,"20"),kHzBus:i.a.optional(i.a.string,"100")}).actions((function(e){return{setTwiMode:function(a){e.twiMode=a;var t=s[a];e.kHzBus=t.maxKHzBus.toString()},setVcc:function(a){e.vcc=a},setPF:function(a){e.pF=a},setKOhm:function(a){e.kOhm=a},setMHzMcu:function(a){e.MHzMcu=a},setKHzBus:function(a){e.kHzBus=a}}})),d=i.a.model({form:m}).views((function(e){return{get spec(){return s[e.form.twiMode]},get nanoRiseTime(){return.8473*parseFloat(e.form.kOhm)*parseFloat(e.form.pF)},get sinkMA(){return parseFloat(e.form.vcc)>=2?3:2},get maxLowVoltage(){var a=parseFloat(e.form.vcc);return a>=2?e.spec.maxLowVoltage:e.spec.maxLowVoltageBelowTwo(a)},get minR(){return(parseFloat(e.form.vcc)-e.maxLowVoltage)/e.sinkMA},get maxR(){return e.spec.maxNanoRise/(.8473*parseFloat(e.form.pF))},get baud(){var a=e.nanoRiseTime/1e9,t=1e6*parseFloat(e.form.MHzMcu),n=1e3*parseFloat(e.form.kHzBus);return(t-n*t*a-10*n)/(2*n)}}})).create({form:m.create({})}),v=Object(u.a)((function(){var e=d.spec,a=d.form,t=a.twiMode,n=a.setTwiMode,l=s.map((function(e){return r.a.createElement("button",{key:e.id,onClick:function(a){return n(e.id)},className:t===e.id?"selected":""},e.name," (",function(e){var a,t=(a=e)>=1e6?["M",1e6]:a>=1e3?["k",1e3]:["",1],n=Object(o.a)(t,2),r=n[0],l=n[1];return"".concat(Math.trunc(e/l)," ").concat(r,"Hz")}(1e3*e.maxKHzBus),")")}));return r.a.createElement("div",{className:"twi-mode"},l,r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Max T",r.a.createElement("sub",null,"rise")),r.a.createElement("div",null,e.maxNanoRise),r.a.createElement("div",null,"ns")),r.a.createElement("div",{className:"row margin-bottom"},r.a.createElement("div",null,"Max capacitance"),r.a.createElement("div",null,e.maxPF),r.a.createElement("div",null,"pF")))})),p=Object(u.a)((function(){var e=d.maxLowVoltage,a=d.minR,t=d.maxR,n=d.spec,l=d.form,c=l.vcc,o=l.setVcc,i=l.pF,u=l.setPF,s=l.kOhm,m=l.setKOhm;return r.a.createElement("div",{className:"rise-time-calculator border-block"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"VCC"),r.a.createElement("input",{className:isNaN(e)?"error":"",value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",null,"V")),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Bus capacitance"),r.a.createElement("input",{className:i>n.maxPF?"error":"",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",null,"pF")),r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Bus pull-up resistance"),r.a.createElement("input",{className:s>t||s<a?"error":"",value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement("div",null,"k\u03a9 (>",a.toFixed(1)," k\u03a9, <",t.toFixed(1)," k\u03a9)")))})),E=Object(u.a)((function(e){var a=d.baud,t=d.nanoRiseTime,n=d.spec,l=d.form,c=l.MHzMcu,o=l.setMHzMcu,i=l.kHzBus,u=l.setKHzBus;return r.a.createElement("div",{className:"baud-rate-calculator border-block"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"MCU frequency"),r.a.createElement("input",{value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",null,"MHz")),r.a.createElement("div",{className:"row margin-bottom"},r.a.createElement("div",null,"Bus frequency"),r.a.createElement("input",{className:i>n.maxKHzBus?"error":"",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",null,"kHz")),r.a.createElement("div",{className:"rise-time"},"T",r.a.createElement("sub",null,"rise")," is ",Math.trunc(t)," ns"),r.a.createElement("div",{className:"baud"},"BAUD is ",Math.trunc(a)))})),g=function(){return r.a.createElement("div",{className:"main-view"},r.a.createElement("div",{className:"title"},"TWI BAUD Calculator"),r.a.createElement("div",{className:"subtitle"},"For ATtiny 1-series and similar devices"),r.a.createElement("div",{className:"info"},"Estimate your TWI BAUD rate and pull-up resistors.",r.a.createElement("br",null),"If a pull-up is too high, it will may not manage to pull the signal to logic high during a single clock cycle.",r.a.createElement("br",null),"If a pull-up is too low, the bus devices may not be able to sink enough current to pull the signal to logic low.",r.a.createElement("br",null),"Bus capacitance can be very roughly estimated by adding 20 pF for every device on the bus if distances are short."),r.a.createElement(v,null),r.a.createElement(p,null),r.a.createElement(E,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.a7a27de3.chunk.js.map