(this["webpackJsonptwi-baud-calculator"]=this["webpackJsonptwi-baud-calculator"]||[]).push([[0],{10:function(e,a,t){e.exports=t(19)},15:function(e,a,t){},16:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(8),c=t.n(r),o=(t(15),t(9)),i=(t(16),t(3)),s=t(5),u=[{id:0,name:"Standard Mode",maxKHzBus:100,maxNanoRise:1e3,maxPF:400,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(){return NaN},minBaud:1},{id:1,name:"Fast Mode",maxKHzBus:400,maxNanoRise:300,maxPF:400,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(e){return.2*e},minBaud:1},{id:2,name:"Fast Mode Plus",maxKHzBus:1e3,maxNanoRise:120,maxPF:550,maxLowVoltage:.4,maxLowVoltageBelowTwo:function(e){return.2*e},minBaud:3}],m=i.a.model({twiMode:i.a.optional(i.a.number,0),vcc:i.a.optional(i.a.string,"5.0"),pF:i.a.optional(i.a.string,"40"),kOhm:i.a.optional(i.a.string,"4.7"),MHzMcu:i.a.optional(i.a.string,"20"),kHzBus:i.a.optional(i.a.string,"100")}).actions((function(e){return{setTwiMode:function(a){e.twiMode=a;var t=u[a];e.kHzBus=t.maxKHzBus.toString()},setVcc:function(a){e.vcc=a},setPF:function(a){e.pF=a},setKOhm:function(a){e.kOhm=a},setMHzMcu:function(a){e.MHzMcu=a},setKHzBus:function(a){e.kHzBus=a}}})),d=i.a.model({form:m}).views((function(e){return{get spec(){return u[e.form.twiMode]},get nanoRiseTime(){return.8473*parseFloat(e.form.kOhm)*parseFloat(e.form.pF)},get sinkMA(){return parseFloat(e.form.vcc)>=2?3:2},get maxLowVoltage(){var a=parseFloat(e.form.vcc);return a>=2?e.spec.maxLowVoltage:e.spec.maxLowVoltageBelowTwo(a)},get minR(){return(parseFloat(e.form.vcc)-e.maxLowVoltage)/e.sinkMA},get maxR(){return e.spec.maxNanoRise/(.8473*parseFloat(e.form.pF))},get baud(){var a=e.nanoRiseTime/1e9,t=1e6*parseFloat(e.form.MHzMcu),n=1e3*parseFloat(e.form.kHzBus);return(t-n*t*a-10*n)/(2*n)}}})).create({form:m.create({})}),p=Object(s.a)((function(){var e=d.spec,a=d.form,t=a.twiMode,n=a.setTwiMode,r=u.map((function(e){return l.a.createElement("button",{key:e.id,onClick:function(a){return n(e.id)},className:t===e.id?"selected":""},e.name," (",function(e){var a,t=(a=e)>=1e6?["M",1e6]:a>=1e3?["k",1e3]:["",1],n=Object(o.a)(t,2),l=n[0],r=n[1];return"".concat(Math.trunc(e/r)," ").concat(l,"Hz")}(1e3*e.maxKHzBus),")")}));return l.a.createElement("div",{className:"twi-mode"},r,l.a.createElement("div",{className:"row"},l.a.createElement("div",null,"Max T",l.a.createElement("sub",null,"rise")),l.a.createElement("div",null,e.maxNanoRise),l.a.createElement("div",null,"ns")),l.a.createElement("div",{className:"row margin-bottom"},l.a.createElement("div",null,"Max capacitance"),l.a.createElement("div",null,e.maxPF),l.a.createElement("div",null,"pF")))})),v=Object(s.a)((function(){var e=d.maxLowVoltage,a=d.minR,t=d.maxR,n=d.spec,r=d.form,c=r.vcc,o=r.setVcc,i=r.pF,s=r.setPF,u=r.kOhm,m=r.setKOhm;return l.a.createElement("div",{className:"rise-time-calculator border-block"},l.a.createElement("div",{className:"row"},l.a.createElement("div",null,"VCC"),l.a.createElement("input",{className:isNaN(e)?"error":"",value:c,onChange:function(e){return o(e.target.value)}}),l.a.createElement("div",null,"V")),l.a.createElement("div",{className:"row"},l.a.createElement("div",null,"Bus capacitance"),l.a.createElement("input",{className:i>n.maxPF?"error":"",value:i,onChange:function(e){return s(e.target.value)}}),l.a.createElement("div",null,"pF")),l.a.createElement("div",{className:"row"},l.a.createElement("div",null,"Bus pull-up resistance"),l.a.createElement("input",{className:u>t||u<a?"error":"",value:u,onChange:function(e){return m(e.target.value)}}),l.a.createElement("div",null,"k\u03a9 (>",a.toFixed(1)," k\u03a9, <",t.toFixed(1)," k\u03a9)")))})),g=Object(s.a)((function(e){var a=d.baud,t=d.nanoRiseTime,n=d.spec,r=d.form,c=r.MHzMcu,o=r.setMHzMcu,i=r.kHzBus,s=r.setKHzBus;return l.a.createElement("div",{className:"baud-rate-calculator border-block"},l.a.createElement("div",{className:"row"},l.a.createElement("div",null,"MCU frequency"),l.a.createElement("input",{value:c,onChange:function(e){return o(e.target.value)}}),l.a.createElement("div",null,"MHz")),l.a.createElement("div",{className:"row margin-bottom"},l.a.createElement("div",null,"Bus frequency"),l.a.createElement("input",{className:i>n.maxKHzBus?"error":"",value:i,onChange:function(e){return s(e.target.value)}}),l.a.createElement("div",null,"kHz")),l.a.createElement("div",{className:"rise-time"},"T",l.a.createElement("sub",null,"rise")," is ",Math.trunc(t)," ns"),l.a.createElement("div",{className:"baud"},"BAUD is ",Math.ceil(a)),n.minBaud>Math.ceil(a)&&l.a.createElement("div",{className:"error"},"Baud cannot be less than ",n.minBaud," in ",n.name))})),E=function(){return l.a.createElement("div",{className:"main-view"},l.a.createElement("div",{className:"title"},"TWI I",l.a.createElement("sup",null,"2"),"C BAUD Calculator"),l.a.createElement("div",{className:"subtitle"},"For ATtiny 1-series and similar devices"),l.a.createElement(p,null),l.a.createElement(v,null),l.a.createElement(g,null),l.a.createElement("div",{className:"info"},l.a.createElement("p",null,"Estimate your TWI I",l.a.createElement("sup",null,"2"),"C BAUD rate and pull-up resistors."),l.a.createElement("p",null,"A pull-up resistance that is too high may not manage to pull the signal to logic high during a single clock cycle."),l.a.createElement("p",null,"A pull-up resistance that is too low may lead to bus devices being unable to sink enough current to pull the signal to logic low."),l.a.createElement("p",null,"Bus capacitance, if measuring is not possible, can be very roughly estimated by adding 20 pF for every device on the bus if distances are short."),l.a.createElement("p",null,"BAUD in this context determines how long a clock signal is kept high after a high level is detected. Therefore a higher BAUD results in a slower bus clock. In practice due to bus capacitance and pull-up resistance some time of the clock cycle is lost while the bus voltage rises to a logic high (T",l.a.createElement("sub",null,"rise"),"). To compensate for this, BAUD can be set to a lower value.")))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null)),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.d6c4737a.chunk.js.map